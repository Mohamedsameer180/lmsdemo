{"version":3,"sources":["theme.js"],"names":["applyTheme","branding","root","document","documentElement","style","setProperty","primaryColor","secondaryColor","backgroundColor","fontFamily","localStorage","setItem","JSON","stringify","e","console","warn","loadStoredTheme","window","storedTheme","getItem","theme","parse","error","resetTheme","removeItem"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;AAQO,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,QAAD,EAAc;AACtC,MAAI,CAACA,QAAL,EAAe;AAEf,MAAMC,IAAI,GAAGC,QAAQ,CAACC,eAAtB,CAHsC,CAKtC;;AACAF,EAAAA,IAAI,CAACG,KAAL,CAAWC,WAAX,CAAuB,iBAAvB,EAA0CL,QAAQ,CAACM,YAAT,IAAyB,SAAnE;AACAL,EAAAA,IAAI,CAACG,KAAL,CAAWC,WAAX,CAAuB,mBAAvB,EAA4CL,QAAQ,CAACO,cAAT,IAA2B,SAAvE;AACAN,EAAAA,IAAI,CAACG,KAAL,CAAWC,WAAX,CAAuB,oBAAvB,EAA6CL,QAAQ,CAACQ,eAAT,IAA4B,SAAzE;AACAP,EAAAA,IAAI,CAACG,KAAL,CAAWC,WAAX,CAAuB,eAAvB,EAAwCL,QAAQ,CAACS,UAAT,IAAuB,oBAA/D,EATsC,CAWtC;;AACA,MAAI;AACFC,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeb,QAAf,CAAlC;AACD,GAFD,CAEE,OAAOc,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,IAAR,CAAa,uCAAb,EAAsDF,CAAtD;AACD;AACF,CAjBM;AAmBP;;;;;;;;AAIO,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AACnC,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC,OADA,CACQ;;AAE3C,MAAI;AACF,QAAMC,WAAW,GAAGT,YAAY,CAACU,OAAb,CAAqB,WAArB,CAApB;;AACA,QAAID,WAAJ,EAAiB;AACf,UAAME,KAAK,GAAGT,IAAI,CAACU,KAAL,CAAWH,WAAX,CAAd;AACApB,MAAAA,UAAU,CAACsB,KAAD,CAAV;AACD,KAHD,MAGO;AACL;AACAtB,MAAAA,UAAU,CAAC;AACTO,QAAAA,YAAY,EAAE,SADL;AAETC,QAAAA,cAAc,EAAE,SAFP;AAGTC,QAAAA,eAAe,EAAE,SAHR;AAITC,QAAAA,UAAU,EAAE;AAJH,OAAD,CAAV;AAMD;AACF,GAdD,CAcE,OAAOc,KAAP,EAAc;AACdR,IAAAA,OAAO,CAACQ,KAAR,CAAc,8BAAd,EAA8CA,KAA9C,EADc,CAEd;;AACAxB,IAAAA,UAAU,CAAC,EAAD,CAAV;AACD;AACF,CAtBM;AAwBP;;;;;;;AAGO,IAAMyB,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC9Bd,EAAAA,YAAY,CAACe,UAAb,CAAwB,WAAxB;AACA1B,EAAAA,UAAU,CAAC;AACTO,IAAAA,YAAY,EAAE,SADL;AAETC,IAAAA,cAAc,EAAE,SAFP;AAGTC,IAAAA,eAAe,EAAE,SAHR;AAITC,IAAAA,UAAU,EAAE;AAJH,GAAD,CAAV;AAMD,CARM,C,CAUP;;;;;AACA,IAAI,OAAOS,MAAP,KAAkB,WAAtB,EAAmC;AACjCD,EAAAA,eAAe;AAChB","sourcesContent":["// src/utils/theme.js\r\n\r\n/**\r\n * Applies the organization's branding to the document root (CSS variables)\r\n * @param {Object} branding - Branding object from organization settings\r\n * @param {string} branding.primaryColor - Primary color (hex)\r\n * @param {string} branding.secondaryColor - Secondary color (hex)\r\n * @param {string} branding.backgroundColor - Background color (hex)\r\n * @param {string} branding.fontFamily - Font family string\r\n */\r\nexport const applyTheme = (branding) => {\r\n  if (!branding) return;\r\n\r\n  const root = document.documentElement;\r\n\r\n  // Set CSS custom properties (variables)\r\n  root.style.setProperty('--primary-color', branding.primaryColor || '#1976d2');\r\n  root.style.setProperty('--secondary-color', branding.secondaryColor || '#dc004e');\r\n  root.style.setProperty('--background-color', branding.backgroundColor || '#f5f5f5');\r\n  root.style.setProperty('--font-family', branding.fontFamily || 'Roboto, sans-serif');\r\n\r\n  // Persist theme in localStorage so it survives page reloads\r\n  try {\r\n    localStorage.setItem('lms_theme', JSON.stringify(branding));\r\n  } catch (e) {\r\n    console.warn('Could not save theme to localStorage:', e);\r\n  }\r\n};\r\n\r\n/**\r\n * Loads theme from localStorage and applies it on app start.\r\n * If no stored theme exists, applies defaults.\r\n */\r\nexport const loadStoredTheme = () => {\r\n  if (typeof window === 'undefined') return; // Skip on server-side\r\n\r\n  try {\r\n    const storedTheme = localStorage.getItem('lms_theme');\r\n    if (storedTheme) {\r\n      const theme = JSON.parse(storedTheme);\r\n      applyTheme(theme);\r\n    } else {\r\n      // Apply default theme if none stored\r\n      applyTheme({\r\n        primaryColor: '#1976d2',\r\n        secondaryColor: '#dc004e',\r\n        backgroundColor: '#f5f5f5',\r\n        fontFamily: 'Roboto, sans-serif'\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to load stored theme:', error);\r\n    // Fallback to defaults on error\r\n    applyTheme({});\r\n  }\r\n};\r\n\r\n/**\r\n * Resets theme to defaults (useful for admin when clearing settings)\r\n */\r\nexport const resetTheme = () => {\r\n  localStorage.removeItem('lms_theme');\r\n  applyTheme({\r\n    primaryColor: '#1976d2',\r\n    secondaryColor: '#dc004e',\r\n    backgroundColor: '#f5f5f5',\r\n    fontFamily: 'Roboto, sans-serif'\r\n  });\r\n};\r\n\r\n// Automatically load stored theme when this module is imported (on client side only)\r\nif (typeof window !== 'undefined') {\r\n  loadStoredTheme();\r\n}"],"file":"theme.dev.js"}