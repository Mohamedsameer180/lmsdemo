"use strict";var mongoose=require("mongoose"),connectDB=function(){var n,o,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(mongoose.connect(process.env.MONGODB_URI,{useNewUrlParser:!0,useUnifiedTopology:!0}));case 3:return n=e.sent,console.log("✅ MongoDB Connected: ".concat(n.connection.host)),o=require("../models/Organization"),e.next=8,regeneratorRuntime.awrap(o.findOne());case 8:if(e.sent){e.next=14;break}return r=new o({name:"Default Organization",description:"Update your organization details",contact:{email:"admin@example.com",phone:"+1234567890",address:"123 Main St, City, Country"},branding:{primaryColor:"#1976d2",secondaryColor:"#dc004e",backgroundColor:"#f5f5f5",fontFamily:"Roboto, sans-serif"},policies:{courseAccess:"role-based",assessmentPassPercentage:70,assessmentMaxAttempts:3,certificationValidityMonths:12,certificationRenewalRequired:!0,learningDeadlineDays:30,complianceRequired:!1}}),e.next=13,regeneratorRuntime.awrap(r.save());case 13:console.log("✅ Default organization settings created");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("❌ Database Error: ".concat(e.t0.message)),process.exit(1);case 20:case"end":return e.stop()}},null,null,[[0,16]])};module.exports=connectDB;
//# sourceMappingURL=db.min.js.map
