{"version":3,"sources":["server.js"],"names":["express","require","mongoose","cors","helmet","rateLimit","path","config","connectDB","organizationRoutes","errorHandler","app","use","origin","process","env","FRONTEND_URL","credentials","limiter","windowMs","max","json","limit","urlencoded","extended","join","__dirname","get","req","res","status","timestamp","Date","toISOString","message","PORT","listen","console","log","UPLOAD_PATH"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMG,MAAM,GAAGH,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMI,SAAS,GAAGJ,OAAO,CAAC,oBAAD,CAAzB;;AACA,IAAMK,IAAI,GAAGL,OAAO,CAAC,MAAD,CAApB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBM,MAAlB;;AAEA,IAAMC,SAAS,GAAGP,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAMQ,kBAAkB,GAAGR,OAAO,CAAC,uBAAD,CAAlC;;AACA,IAAMS,YAAY,GAAGT,OAAO,CAAC,2BAAD,CAA5B;;AAEA,IAAMU,GAAG,GAAGX,OAAO,EAAnB,C,CAEA;;AACAW,GAAG,CAACC,GAAJ,CAAQR,MAAM,EAAd;AACAO,GAAG,CAACC,GAAJ,CAAQT,IAAI,CAAC;AACXU,EAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,YAAZ,IAA4B,uBADzB;AAEXC,EAAAA,WAAW,EAAE;AAFF,CAAD,CAAZ,E,CAKA;;AACA,IAAMC,OAAO,GAAGb,SAAS,CAAC;AACxBc,EAAAA,QAAQ,EAAE,KAAK,EAAL,GAAU,IADI;AACE;AAC1BC,EAAAA,GAAG,EAAE,GAFmB,CAEf;;AAFe,CAAD,CAAzB;AAIAT,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBM,OAAjB,E,CAEA;;AACAP,GAAG,CAACC,GAAJ,CAAQZ,OAAO,CAACqB,IAAR,CAAa;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAAb,CAAR;AACAX,GAAG,CAACC,GAAJ,CAAQZ,OAAO,CAACuB,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE,IAAZ;AAAkBF,EAAAA,KAAK,EAAE;AAAzB,CAAnB,CAAR,E,CAEA;;AACAX,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBZ,OAAO,UAAP,CAAeM,IAAI,CAACmB,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAf,CAApB,E,CAEA;;AACAlB,SAAS,G,CAET;;AACAG,GAAG,CAACC,GAAJ,CAAQ,mBAAR,EAA6BH,kBAA7B,E,CAEA;;AACAE,GAAG,CAACgB,GAAJ,CAAQ,aAAR,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACnCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqB;AAAES,IAAAA,MAAM,EAAE,IAAV;AAAgBC,IAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,WAAX;AAA3B,GAArB;AACD,CAFD,E,CAIA;;AACAtB,GAAG,CAACC,GAAJ,CAAQF,YAAR,E,CAEA;;AACAC,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,UAACgB,GAAD,EAAMC,GAAN,EAAc;AACzBA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqB;AAAEa,IAAAA,OAAO,EAAE;AAAX,GAArB;AACD,CAFD;AAIA,IAAMC,IAAI,GAAGrB,OAAO,CAACC,GAAR,CAAYoB,IAAZ,IAAoB,IAAjC;AACAxB,GAAG,CAACyB,MAAJ,CAAWD,IAAX,EAAiB,YAAM;AACrBE,EAAAA,OAAO,CAACC,GAAR,+CAAyCH,IAAzC;AACAE,EAAAA,OAAO,CAACC,GAAR,0CAAoChC,IAAI,CAACmB,IAAL,CAAUC,SAAV,EAAqBZ,OAAO,CAACC,GAAR,CAAYwB,WAAjC,CAApC;AACD,CAHD","sourcesContent":["const express = require('express');\r\nconst mongoose = require('mongoose');\r\nconst cors = require('cors');\r\nconst helmet = require('helmet');\r\nconst rateLimit = require('express-rate-limit');\r\nconst path = require('path');\r\nrequire('dotenv').config();\r\n\r\nconst connectDB = require('./config/db');\r\nconst organizationRoutes = require('./routes/organization');\r\nconst errorHandler = require('./middleware/errorHandler');\r\n\r\nconst app = express();\r\n\r\n// Security middleware\r\napp.use(helmet());\r\napp.use(cors({\r\n  origin: process.env.FRONTEND_URL || 'http://localhost:3000',\r\n  credentials: true\r\n}));\r\n\r\n// Rate limiting\r\nconst limiter = rateLimit({\r\n  windowMs: 15 * 60 * 1000, // 15 minutes\r\n  max: 100 // limit each IP to 100 requests per windowMs\r\n});\r\napp.use('/api/', limiter);\r\n\r\n// Body parsing\r\napp.use(express.json({ limit: '10mb' }));\r\napp.use(express.urlencoded({ extended: true, limit: '10mb' }));\r\n\r\n// Serve static files (uploaded logos)\r\napp.use('/uploads', express.static(path.join(__dirname, 'uploads')));\r\n\r\n// Database connection\r\nconnectDB();\r\n\r\n// Routes\r\napp.use('/api/organization', organizationRoutes);\r\n\r\n// Health check\r\napp.get('/api/health', (req, res) => {\r\n  res.status(200).json({ status: 'OK', timestamp: new Date().toISOString() });\r\n});\r\n\r\n// Error handling middleware\r\napp.use(errorHandler);\r\n\r\n// 404 handler\r\napp.use('*', (req, res) => {\r\n  res.status(404).json({ message: 'Route not found' });\r\n});\r\n\r\nconst PORT = process.env.PORT || 5000;\r\napp.listen(PORT, () => {\r\n  console.log(`ğŸš€ Server running on port ${PORT}`);\r\n  console.log(`ğŸ“ Upload directory: ${path.join(__dirname, process.env.UPLOAD_PATH)}`);\r\n});"],"file":"server.dev.js"}