"use strict";var express=require("express"),mongoose=require("mongoose"),cors=require("cors"),helmet=require("helmet"),rateLimit=require("express-rate-limit"),path=require("path");require("dotenv").config();var connectDB=require("./config/db"),organizationRoutes=require("./routes/organization"),errorHandler=require("./middleware/errorHandler"),app=express();app.use(helmet()),app.use(cors({origin:process.env.FRONTEND_URL||"http://localhost:3000",credentials:!0}));var limiter=rateLimit({windowMs:9e5,max:100});app.use("/api/",limiter),app.use(express.json({limit:"10mb"})),app.use(express.urlencoded({extended:!0,limit:"10mb"})),app.use("/uploads",express.static(path.join(__dirname,"uploads"))),connectDB(),app.use("/api/organization",organizationRoutes),app.get("/api/health",function(e,r){r.status(200).json({status:"OK",timestamp:(new Date).toISOString()})}),app.use(errorHandler),app.use("*",function(e,r){r.status(404).json({message:"Route not found"})});var PORT=process.env.PORT||5e3;app.listen(PORT,function(){console.log("üöÄ Server running on port ".concat(PORT)),console.log("üìÅ Upload directory: ".concat(path.join(__dirname,process.env.UPLOAD_PATH)))});
//# sourceMappingURL=server.min.js.map
