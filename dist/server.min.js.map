{"version":3,"sources":["server.js"],"names":["express","require","mongoose","helmet","path","config","organizationRoutes","rateLimit","app","use","connectDB","origin","process","env","FRONTEND_URL","credentials","windowMs","limiter","json","limit","extended","max","join","__dirname","req","res","status","timestamp","Date","toISOString","errorHandler","message","PORT","console","log","concat","UPLOAD_PATH"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,SAAWD,QAAQ,YADnBD,KAAOC,QAAU,QAGjBE,OAASF,QAAQ,UAFjBC,UAAWD,QAAQ,sBAInBG,KAAOH,QAAQ,QAHrBA,QAAU,UAAUI,SACpB,IAAMF,UAASF,QAAQ,eAMjBK,mBAAqBL,QAAQ,yBAL7BM,aAAYN,QAAQ,6BACpBG,IAAOH,UAUbO,IAAIC,IAAIN,UAPRK,IAAME,IAAAA,KAAS,CASbC,OAAQC,QAAQC,IAAIC,cAAgB,wBARtCC,aAAMT,KAGN,IAAME,QAAMR,UAEZ,CASEgB,SAAU,IARZR,IAAA,MAEEG,IAAAA,IAAM,QAASM,SAYjBT,IAAIC,IAAIT,QAAQkB,KAAK,CAAEC,MAAO,UAP9BX,IAAMS,IAAAA,QAAUV,WAAU,CAAAa,UAAA,EAAAD,MAAA,UAExBE,IAAAA,IAAK,WAAIrB,QAAA,OAAAI,KAAAkB,KAAAC,UAAA,aAEXf,YAGuBW,IAAAA,IAAK,oBAAEb,oBACDc,IAAAA,IAAAA,cAAF,SAAAI,EAAAC,GAAkBN,EAAAA,OAAO,KAAAD,KAAA,CAAAQ,OAAA,KAAAC,WAAA,IAAAC,MAAAC,kBAiBpDrB,IAAIC,IAAIqB,cARRtB,IAAIC,IAAI,IAAA,SAAAe,EAAAC,GAYNA,EAAIC,OAAO,KAAKR,KAAK,CAAEa,QAAS,sBARTL,IAAAA,KAAQd,QAAVC,IAAAmB,MAAA,IAAgBL,IAAAA,OAAAA,KAAW,WAA3BM,QAArBC,IAAqB,6BAAAC,OAArBH,OADFC,QAIAC,IAJA,wBAAAC,OAIA/B,KAAAkB,KAAAC,UAAAX,QAAAC,IAAAuB","file":"server.min.js","sourcesContent":["const express = require('express');\r\nconst mongoose = require('mongoose');\r\nconst cors = require('cors');\r\nconst helmet = require('helmet');\r\nconst rateLimit = require('express-rate-limit');\r\nconst path = require('path');\r\nrequire('dotenv').config();\r\n\r\nconst connectDB = require('./config/db');\r\nconst organizationRoutes = require('./routes/organization');\r\nconst errorHandler = require('./middleware/errorHandler');\r\n\r\nconst app = express();\r\n\r\n// Security middleware\r\napp.use(helmet());\r\napp.use(cors({\r\n  origin: process.env.FRONTEND_URL || 'http://localhost:3000',\r\n  credentials: true\r\n}));\r\n\r\n// Rate limiting\r\nconst limiter = rateLimit({\r\n  windowMs: 15 * 60 * 1000, // 15 minutes\r\n  max: 100 // limit each IP to 100 requests per windowMs\r\n});\r\napp.use('/api/', limiter);\r\n\r\n// Body parsing\r\napp.use(express.json({ limit: '10mb' }));\r\napp.use(express.urlencoded({ extended: true, limit: '10mb' }));\r\n\r\n// Serve static files (uploaded logos)\r\napp.use('/uploads', express.static(path.join(__dirname, 'uploads')));\r\n\r\n// Database connection\r\nconnectDB();\r\n\r\n// Routes\r\napp.use('/api/organization', organizationRoutes);\r\n\r\n// Health check\r\napp.get('/api/health', (req, res) => {\r\n  res.status(200).json({ status: 'OK', timestamp: new Date().toISOString() });\r\n});\r\n\r\n// Error handling middleware\r\napp.use(errorHandler);\r\n\r\n// 404 handler\r\napp.use('*', (req, res) => {\r\n  res.status(404).json({ message: 'Route not found' });\r\n});\r\n\r\nconst PORT = process.env.PORT || 5000;\r\napp.listen(PORT, () => {\r\n  console.log(`ğŸš€ Server running on port ${PORT}`);\r\n  console.log(`ğŸ“ Upload directory: ${path.join(__dirname, process.env.UPLOAD_PATH)}`);\r\n});"]}