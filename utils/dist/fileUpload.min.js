"use strict";var multer=require("multer"),path=require("path"),fs=require("fs"),uploadDir=process.env.UPLOAD_PATH||"./uploads/logos";fs.existsSync(uploadDir)||fs.mkdirSync(uploadDir,{recursive:!0});var storage=multer.diskStorage({destination:function(e,r,t){t(null,uploadDir)},filename:function(e,r,t){t(null,"logo-"+(Date.now()+"-"+Math.round(1e9*Math.random()))+path.extname(r.originalname))}}),fileFilter=function(e,r,t){var i=/jpeg|jpg|png|gif|svg/,a=i.test(path.extname(r.originalname).toLowerCase()),l=i.test(r.mimetype);if(a&&l)return t(null,!0);t(new Error("Only image files (JPEG, JPG, PNG, GIF, SVG) are allowed"))},upload=multer({storage:storage,limits:{fileSize:parseInt(process.env.MAX_LOGO_SIZE)||2097152},fileFilter:fileFilter});module.exports=upload;
//# sourceMappingURL=fileUpload.min.js.map
